@model DataLayer.Page
@{
    ViewBag.Title = "ShowPageNews";
}

<ul class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">خانه </a></li>
    <li class="breadcrumb-item"><a href="#">اخبار </a></li>
    <li class="breadcrumb-item"><a href="#">دسته بندی  </a></li>
    <li class="breadcrumb-item active">@Model.Title </li>
</ul>

<section class="single-news border-radius">
    <header><h2> @Model.Title </h2> <span> <i class="fa fa-calendar"></i>  انتشار : @Model.CreateDate.Toshamsi()</span></header>
    <article>
        <p>
            @Model.ShortDescription
        </p>
        <p>
            @Model.Text    
        </p>
    </article>
</section>

<div class="keywords border-radius">
    <a href=""> کلمات کلیدی </a>
    @foreach (var item in Model.Tags.Split(','))
    {
        <a href=""> @item</a>
    }
</div>


<section class="comment-layer">
    <header> <i class="fa fa-comments"></i><h5> دیدگاه کاربران </h5><span>  دیدگاه </span> </header>
    <ul id="commentList">
        @Html.Action("ShowComment")
    </ul>
    <h6> شما هم دیدگاه خود را ارسال کنید </h6>
    <form class="comment-form" action="" method="post">
        <div>
            <input placeholder=" نام و نام خانوادگی" type="text" id="txtName">
            <input placeholder=" ایمیل خود را وارد نمایید " type="email" id="txtEmail">

        </div>
        <textarea placeholder=" متن دیدگاه" id="txtComment"> </textarea>
        <input value="ثبت دیدگاه ارزشمند شما " type="submit" onclick="addComment()">
    </form>
</section>

<script>
    function addComment() {
        $.ajax({
            url: "/NewPage/AddComment/" + @Model.PageID,
            type: "Get",
            data: { name: $("#txtName").val(), email: $("#txtEmail").val(), comment: $("#txtComment").val() }
        }).done(function(result) {

            $("#commentList").html(result);
            $("#txtName").val("");
            $("#txtEmail").val("");
            $("#txtComment").val("");

        });
    }
</script>
